<div class="container">
    <h1>Thêm sản phẩm mới</h1>
    <form id="myForm" method="post" action="add" enctype="multipart/form-data">
        {{!-- name --}}
        <div class="form-group">
            <label for="name">Tên sản phẩm:</label>
            <input type="text" class="form-control my-2" id="name" name="name" required>
        </div>

        {{!-- description --}}
        <div class="form-group">
            <label for="description">Mô tả:</label>
            <input type="text" class="form-control my-2" id="description" name="description" required>
        </div>

        {{!-- image --}}
        <div class="form-group">
            <img style="width: 100px;height: 100px;display: none;" alt="Lỗi hiển thị!" id="preview-image" />
            <label for="image" class="mb-2">Hình ảnh:</label>
            <input type="file" class="form-control my-2-file" id="image" name="image" accept="image/*"
                onchange="previewImage(event);" multiple required>
        </div>
        {{!-- price --}}
        <div class="form-group">
            <label for="price" class="mt-2">Đơn giá:</label>
            <input type="number" min="1" class="form-control my-2" id="price" name="price" required>
        </div>
        {{!-- category --}}
        <div class="form-group">
            <label for="category">Phân loại:</label>
            <select id="category" name="category" class="form-control my-2">
                {{#each selectedOptionCategory}}
                <option value="{{@key}}" {{#if this}}selected{{/if}}>{{@key}}</option>
                {{/each}}
            </select>
        </div>
        {{!-- status --}}
        <div class="form-group">
            <label for="status">Trạng thái:</label>
            <select id="status" name="status" class="form-control my-2">
                {{#each selectedOption}}
                <option value="{{@key}}" {{#if this}}selected{{/if}}>{{@key}}</option>
                {{/each}}
            </select>
        </div>

        {{!-- event --}}
        <div class="form-group">
            <label for="event">Liên kết sự kiện:</label>
            <select id="event" name="event" class="form-control my-2">
                {{#each selectedOptionEvent}}
                <option value="{{@key}}" {{#if this}}selected{{/if}}>{{@key}}</option>
                {{/each}}
            </select>
        </div>

                
        {{!-- sale --}}
        <div class="form-group">
            <label for="sale" class="mt-2">Phầm trăm giảm giá:</label>
            <input type="number" step="1" min="0" max="100" class="form-control my-2" id="sale" name="sale" required>
        </div>

        <button type="submit" class="btn btn-primary my-2">Thêm</button>
    </form>
</div>

<script>
    //hiển thị hình ảnh đã chọn
    function previewImage(event) {
        var input = event.target;
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                var image = document.getElementById("preview-image");
                image.src = e.target.result;
                image.style.display = "block";
            };
            reader.readAsDataURL(input.files[0]);
        }
    }




</script>