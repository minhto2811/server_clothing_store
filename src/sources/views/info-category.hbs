<div class="m-auto" style="width: 600px;">
    <h2 class="text-center my-3">Thông tin danh mục</h2>
    <form id="myForm" method="post" action="/category/update/{{nv._id}}?_method=PUT" enctype="multipart/form-data">

        <div class="form-group my-2 d-flex flex-column">
            <label for="image">Hình ảnh</label>
            <img class="border my-2" src="{{nv.image}}" style="width: 100px;height: 100px;" alt="Lỗi hiển thị!"
                id="preview-image" />
            <input type="file" class="form-control-file" name="image" id="image" accept="image/*"
                onchange="previewImage(event);">
        </div>

        <div class="form-group my-2">
            <label for="name">Tên danh mục:</label>
            <input type="text" class="form-control my-1" id="name" placeholder="Enter name" name="name"
                value="{{nv.name}}" required>
        </div>

      
        <div class="form-group" hidden>
            <input type="text" name="old" value="{{nv.image}}">
        </div>
        <button type="submit" class="btn btn-success col-3 col-lg-12 my-3">Submit</button>


    </form>
</div>

<script>
    function previewImage(event) {
        var input = event.target;
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                var image = document.getElementById("preview-image");
                image.src = e.target.result;
                image.style.display = "block";
            };
            reader.readAsDataURL(input.files[0]);
        }
    }


</script>